(()=>{"use strict";let e=document.getElementById("content");!function(){let t=document.createElement("form");t.classList.add("inputinfo");let n=document.createElement("h3");n.textContent="Task name";let l=document.createElement("INPUT");l.setAttribute("type","text");let c=document.createElement("h3");c.textContent="description";let a=document.createElement("TEXTAREA"),o=document.createElement("h3");o.textContent="Due Date";let s=document.createElement("INPUT");s.setAttribute("type","date");let r=document.createElement("h3");r.textContent="Priority";let d=document.createElement("SELECT"),i=document.createElement("option");i.value="1",i.text="priority 1 (Red)";let p=document.createElement("option");p.value="2",p.text="priority 2 (Yellow)";let u=document.createElement("option");u.value="3",u.text="priority 3 (Green)",d.add(i,null),d.add(p,null),d.add(u,null);let m=document.createElement("h3");m.textContent="Notes";let E=document.createElement("TEXTAREA"),b=document.createElement("button");b.textContent="Create",b.classList.add("submitbtn","submitbtninfo");let L=document.createElement("button");L.textContent="Cancel",L.classList.add("cancelbtn","cancelbtninfo"),t.append(n),t.append(l),t.append(c),t.append(a),t.append(o),t.append(s),t.append(r),t.append(d),t.append(m),t.append(E),t.append(L),t.append(b),e.append(t)}(),function(){let t=document.createElement("form");t.classList.add("projectform");let n=document.createElement("h3");n.textContent="Project name";let l=document.createElement("input");l.setAttribute("type","text"),l.id="projectnamefield";let c=document.createElement("button");c.textContent="Create",c.classList.add("submitbtn","submitbtnproject");let a=document.createElement("button");a.textContent="Cancel",a.classList.add("cancelbtn","cancelbtnproject"),t.append(n),t.append(l),t.append(a),t.append(c),e.append(t)}(),function(){let t=document.createElement("div");t.classList.add("interface");let n=document.createElement("div");n.classList.add("projects"),n.id="projects";let l=document.createElement("div");l.classList.add("details"),l.id="details",t.append(n),t.append(l),e.append(t)}(),function(){let t=document.createElement("div");t.classList.add("nameerrorpopup");let n=document.createElement("p");n.textContent="A folder with this name already exists";let l=document.createElement("button");l.textContent="close",t.append(n),t.append(l),e.append(t),l.addEventListener("click",(()=>{t.classList.remove("spawn")}))}();let t=document.querySelector("#projects");const n=(()=>{let e=[{projectTitle:"Default project folder",tasks:[{title:"Task one",description:"this task goes like this",dueDate:"2021-07-22",priority:"2",notes:"these are the notes",checklist:!1},{title:"Task Two",description:"this task goes like this",dueDate:"2021-07-22",priority:"2",notes:"these are the notes",checklist:!1},{title:"Task three",description:"this task goes like this and this",dueDate:"2021-03-26",priority:"1",notes:"these are the notes for this other one",checklist:!1}]}];return{createProject(t){e.push({ourProjectTitle:t,tasks:[]})},newTask(t,n,l,c,a,o=!1,s){let r={title:t,description:n,dueDate:l,priority:c,notes:a,checklist:o};for(let t=0;t<e.length;t++)e[t].projectTitle==s&&e[t].tasks.push(r)},getList:()=>e,getFolderName:()=>e.map((e=>e.projectTitle)),getTitle(t){for(let n=0;n<e.length;n++)if(e[n].projectTitle==t)return e[n].tasks.map((e=>e.title))},getTask(t,n){for(const l of e)if(l.projectTitle==n)for(const e of l.tasks)if(e.title==t)return e},getLastProjectTitle:()=>e[e.length-1].projectTitle,renderProjects(){let t=document.querySelector(".projects"),n=e;for(let e=0;e<n.length;e++){let l=document.createElement("div"),c=document.createElement("button"),a=document.createElement("div");a.classList.add("content"),c.classList.add("collapsible"),c.textContent=n[e].projectTitle,l.id=e,l.classList.add("projectdiv"),l.append(c),l.append(a),t.append(l)}let l=document.createElement("button");l.textContent="+ Add Project",l.classList.add("newprojectbtn"),t.append(l)},renderTasksCollapsibleContainer(){var e=document.querySelectorAll(".collapsible");for(let t=0;t<e.length;t++)e[t].addEventListener("click",(function(){this.classList.toggle("active");var e=this.nextElementSibling;"block"===e.style.display?e.style.display="none":e.style.display="block"}))},renderTasksTittle(){var e=document.querySelectorAll(".collapsible");for(let t=0;t<e.length;t++){let l=e[t].textContent,c=n.getTitle(l);for(let n=0;n<c.length;n++){let l=document.createElement("h3");l.textContent=String(c[n]),l.classList.add("pointerstyle"),l.setAttribute("data-folder",e[t].textContent),e[t].nextElementSibling.append(l)}let a=document.createElement("button");a.textContent="+ Add Task",a.classList.add("newtaskbtn"),e[t].nextElementSibling.append(a)}},renderTasksDetail(e,t){let l=document.querySelector(".details"),c=n.getTask(e,t),a=document.createElement("div");a.classList.add("details");let o=document.createElement("h3");o.textContent="title: "+c.title;let s=document.createElement("h4");s.textContent="Description: "+c.description;let r=document.createElement("h4");r.textContent="Due Date: "+c.dueDate;let d=document.createElement("h4");d.textContent="Priority: "+c.priority;let i=document.createElement("h4");i.textContent="Notes: "+c.notes,a.append(o),a.append(s),a.append(r),a.append(d),a.append(i),l.replaceWith(a)},renderNewProject(e){let t=document.getElementsByClassName("projectdiv"),l=document.querySelector(".projects"),c=document.querySelector(".newprojectbtn"),a=document.createElement("div"),o=document.createElement("button"),s=document.createElement("div");o.classList.add("collapsible"),s.classList.add("content"),o.textContent=e,n.createProject(e),a.id=t.length,a.classList.add("projectdiv"),a.append(o);let r=document.createElement("button");r.textContent="+ Add Task",r.classList.add("newtaskbtn"),s.append(r),l.insertBefore(a,c),a.append(s)},replaceProjects(t){let l={projectTitle:t,tasks:[]};e.push(l);let c=document.querySelector(".projects"),a=(document.querySelectorAll(".pointerStyle"),e),o=document.createElement("div");for(let e=0;e<a.length;e++){let t=document.createElement("div"),n=document.createElement("button"),l=document.createElement("div");l.classList.add("content"),n.classList.add("collapsible"),n.textContent=a[e].projectTitle,t.id=e,t.classList.add("projectdiv"),t.append(n),t.append(l),o.append(t)}let r=document.createElement("button");r.textContent="+ Add Project",r.classList.add("newprojectbtn"),o.append(r),c.replaceWith(o),o.classList.add("projects"),r.addEventListener("click",(()=>{s.classList.add("spawn")})),o.addEventListener("click",(function(e){e.target.classList.contains("pointerstyle")&&n.renderTasksDetail(e.target.textContent,e.target.getAttribute("data-folder"))})),document.querySelectorAll(".projects").forEach((e=>e.addEventListener("click",(function(e){e.target.classList.contains("newtaskbtn")&&document.querySelector(".inputinfo").classList.add("spawn")}))))},renderNewTask(e,t,n,l,c){}}})();n.renderProjects(),n.renderTasksCollapsibleContainer(),n.renderTasksTittle();let l=document.querySelector(".newprojectbtn"),c=document.querySelector(".cancelbtnproject"),a=document.querySelector(".submitbtnproject"),o=document.getElementById("projectnamefield"),s=document.querySelector(".projectform"),r=document.querySelectorAll(".projects"),d=document.querySelector(".cancelbtninfo");document.querySelector(".submitbtninfo"),r.forEach((e=>e.addEventListener("click",(function(e){e.target.classList.contains("newtaskbtn")&&document.querySelector(".inputinfo").classList.add("spawn")})))),d.addEventListener("click",(e=>{e.preventDefault(),document.querySelector(".inputinfo").classList.remove("spawn")})),t.addEventListener("click",(function(e){e.target.classList.contains("pointerstyle")&&n.renderTasksDetail(e.target.textContent,e.target.getAttribute("data-folder"))})),l.addEventListener("click",(()=>{s.classList.add("spawn")})),c.addEventListener("click",(e=>{e.preventDefault(),o.value="",s.classList.remove("spawn")})),a.addEventListener("click",(e=>{e.preventDefault();let t=document.querySelector(".nameerrorpopup");n.getList().some((e=>e.projectTitle===o.value))?t.classList.add("spawn"):""!=o.value&&(n.replaceProjects(o.value),n.renderTasksCollapsibleContainer(),n.renderTasksTittle(),s.classList.remove("spawn"))}))})();